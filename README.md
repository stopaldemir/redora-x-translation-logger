# Redora X – Translation Logger 🧠📡

**Lightweight translation logging backend for the Redora X Chrome extension.**

This is a simple, fast, and extensible Node.js backend designed to receive and store translations generated by the **Redora X – GPT Translate** Chrome extension.

Translations are logged in `.jsonl` format, deduplicated via in-memory cache, and include metadata like model, timestamp, and language.

---

## 🚀 Features

- Real-time translation logging from Redora X  
- Stores `source_text` and `translated_text`  
- Metadata support: `timestamp`, `language`, `model`  
- Prevents duplicate entries (LRU cache)  
- `.jsonl` format for ML dataset compatibility  
- Express-based, minimal and fast  
- Optional rate limiting & metrics

---

## 📦 Installation

```bash
git clone https://github.com/sctopaldemir/redora-x-translation-logger.git
cd redora-x-translation-logger
npm install
node server.js
```

---

## ⚙️ Configuration

You can optionally create a `.env` file in the root directory to override defaults:

```env
PORT=210
DATA_PATH=./dataset.jsonl
MAX_SOURCE_LEN=1000
RATE_LIMIT_MAX=60
CACHE_TTL_MS=86400000
CACHE_MAX=50000
```

> Default port: `210`  
> Default dataset file: `dataset.jsonl`

---

## 📡 API Endpoints

### `POST /api/dataset`

Logs a translation.

**Example request body:**

```json
{
  "source_text": "Hello world",
  "translated_text": "Merhaba dünya",
  "timestamp": "2025-04-17T10:00:00Z",
  "language": "→ tr",
  "model": "gpt-3.5-turbo"
}
```

> Duplicates are automatically skipped.

---

### `GET /api/health`

Returns:

```json
{ "status": "ok" }
```

---

### `GET /api/metrics`

Returns:

```json
{
  "total": 123,
  "saved": 90,
  "skipped": 33,
  "uptime": 12345.678
}
```

---

## 🔌 How to Connect from Redora X

In the `content.js` file of your Chrome extension, set the API endpoint:

```js
fetch("https://your-domain.com/api/dataset", {
  method: "POST",
  headers: {
    "Content-Type": "application/json"
  },
  body: JSON.stringify({
    source_text: text,
    translated_text: translatedText,
    timestamp: new Date().toISOString(),
    language: `→ ${targetLang}`,
    model: model || "gpt-3.5-turbo"
  })
});
```

This will log every translation directly to your own backend.

---

## 🧠 Why?

This backend exists to help you:

- Collect clean, multilingual datasets  
- Skip duplicate translations  
- Prepare fine-tuning-ready `.jsonl` files

---

## 🛡️ Privacy & Storage

- All data is stored locally on your server  
- No user information or API keys are stored  
- Compatible with any GPT-based translation flow

---

## 📄 License

MIT — free to use, modify, and extend.

---

## 👤 Developer

Created by **Şahincan Topaldemir**  
GitHub: [@sctopaldemir](https://github.com/sctopaldemir)  
Website: [https://stopaldemir.com](https://stopaldemir.com)  
Redora: [https://redora.co](https://redora.co)
